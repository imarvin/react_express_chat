(this.webpackJsonpreact_chat1=this.webpackJsonpreact_chat1||[]).push([[0],{19:function(e,a,t){e.exports=t(37)},24:function(e,a,t){},33:function(e,a,t){"use strict";t.r(a),t.d(a,"data",(function(){return n}));var n={users:[{id:0,username:"betteruser0",real_name:"Better User",verified:!0},{id:1,username:"marymeeker",real_name:"Mary Meeker",verified:!0},{id:2,username:"ConanOBrien",real_name:"Conan O'Brien",verified:!0},{id:3,username:"baratunde",real_name:"Baratunde",verified:!1}],posts:[{id:2374237842,user:1,message:"Spotify has grown to more than 60 million monthly active users, 15 million of whom are paying subscribers.",ts:1337774582},{id:2374272076,user:2,message:"If I were in prison, I wouldn't ruin my spoon trying to tunnel out, because going without morning yogurt is its own prison.",ts:1337968739},{id:4545435344,user:3,message:"Something beautiful happened in Cornwall. https://media.better.com/microblog/cornwall.jpg",ts:1461607139},{id:4629293242,user:2,message:"Love this shot. Reminds me of the first time someone found me at the end of a rainbow holding a pot of gold.",ts:1478942943}]}},37:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(12),c=t.n(s),m=(t(24),t(2)),l=t(6),o=t.n(l),i=t(13),u=t.n(i),d=function(e){var a=e.message,t=e.showCard;return r.a.createElement("div",{className:"chat__card"},r.a.createElement("div",{className:"chat__card-container"},r.a.createElement("div",{className:"chat__card-flipper","data-flip":t},r.a.createElement("div",{className:"chat__card-front"},r.a.createElement("div",{className:"chat__message-content"},a.message)),r.a.createElement("div",{className:"chat__card-back"},r.a.createElement("div",{className:"chat__card-content"},r.a.createElement(u.a,null)," Active Since \xa0",r.a.createElement(o.a,{date:a.ts,format:"MMM YYYY"}))))))},h=Object(n.createContext)(),g=function(e){return r.a.createElement(h.Provider,{value:{isAuthenticated:!0,authId:0}},e.children)},f=function(e){var a=e.message,t=e.user,s=Object(n.useContext)(h).authId,c=a.user===s,l=c?"better-icon.svg":"".concat(t.username,".jpg"),i=Object(n.useState)(!1),u=Object(m.a)(i,2),g=u[0],f=u[1];return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement("li",{className:"chat__message",onClick:function(){return f(!g)},"data-id":a.id,"data-is-auth":c,"data-flip":g},r.a.createElement("div",{className:"chat__message-avatar"},r.a.createElement("img",{className:"chat__message-avatar-img",src:"./images/".concat(l),alt:t.real_name})),r.a.createElement("div",{className:"chat__message-wrapper"},r.a.createElement(o.a,{className:"chat__message-timestamp",fromNow:!0,date:a.ts,interval:3e4}),r.a.createElement("div",{className:"chat__message-user"},r.a.createElement("span",{className:"chat__message-realname"},t.real_name),r.a.createElement("span",{className:"chat__message-username"},"@",t.username)),r.a.createElement(d,{message:a,showCard:g}))))},_=t(10),v=(t(7),t(1)),E=Object(n.createContext)(),p=function(e){var a=Object(n.useState)([]),s=Object(m.a)(a,2),c=s[0],l=s[1],o=Object(n.useState)([]),i=Object(m.a)(o,2),u=i[0],d=i[1];Object(n.useEffect)((function(){var e=t(33).data;l(Object(v.a)(e.users)),d(Object(v.a)(e.posts)),console.log("data imported",e)}),[!1]);return r.a.createElement(E.Provider,{value:{users:c,messages:u,postMessage:function(e){d([].concat(Object(v.a)(u),[Object(_.a)({},e)]))}}},e.children)},b=function(){var e=Object(n.useContext)(E),a=e.users,t=e.messages,s=Object(n.useRef)(null);return Object(n.useEffect)((function(){s.current.scrollIntoView({behavior:"smooth"})}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"chat__messages"},t&&t.map((function(e){var t=a.find((function(a){return a.id===e.user}));return r.a.createElement(f,{key:e.id,message:e,user:t})}))),r.a.createElement("div",{ref:s}))},N=t(15),j=t.n(N),w=t(16),O=t.n(w),y=function(){var e=Object(n.useContext)(E).postMessage,a=Object(n.useContext)(h).authId,t=Object(n.useState)(""),s=Object(m.a)(t,2),c=s[0],l=s[1],o=Object(n.useState)(140),i=Object(m.a)(o,2),u=i[0],d=i[1];return r.a.createElement("div",{className:"chat__form"},r.a.createElement("form",{className:"chat__form-form",onSubmit:function(t){if(t.preventDefault(),c.trim().length>0){var n={id:j()(),user:a,message:c,ts:Date.now()};e(n)}else console.log("Form error: New message must include characters other than whitespace.");l(""),d(140)}},r.a.createElement("span",{className:"chat__form-chars"},u),r.a.createElement("input",{className:"chat__form-input",name:"message",placeholder:"Whats happening?",onChange:function(e){e.preventDefault();var a=e.target.value;d(140-a.length),l(a)},value:c,maxLength:140,required:!0}),r.a.createElement("button",{className:"chat__form-button",type:"submit"},r.a.createElement(O.a,null))))},C=t(17),k=t.n(C),S=function(){return r.a.createElement("header",{className:"chat__header"},r.a.createElement("div",{className:"chat__logo"},r.a.createElement(k.a,{className:"chat__logo-svg"})),r.a.createElement("div",{className:"chat__header-status"},"(client only)"))},x=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(S,null),r.a.createElement(p,null,r.a.createElement(g,null,r.a.createElement("main",{className:"chat"},r.a.createElement(b,null),r.a.createElement(y,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.bcecbff1.chunk.js.map